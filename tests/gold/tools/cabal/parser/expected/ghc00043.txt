Cabal File
  PKG_NAME
    PsiElement(NAME_KEY)('name')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('ghc-prim')
  PKG_VERSION
    PsiElement(VERSION_KEY)('version')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('0.5.0.0')
  PsiComment(COMMENT)('-- NOTE: Don't forget to update ./changelog.md')
  LICENSE
    PsiElement(LICENSE_KEY)('license')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('BSD3')
  LICENSE_FILE
    PsiElement(LICENSE_FILE_KEY)('license-file')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('LICENSE')
  CATEGORY
    PsiElement(CATEGORY_KEY)('category')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('GHC')
  MAINTAINER
    PsiElement(MAINTAINER_KEY)('maintainer')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('libraries@haskell.org')
  BUG_REPORTS
    PsiElement(BUG_REPORTS_KEY)('bug-reports')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('http://ghc.haskell.org/trac/ghc/newticket?component=libraries%20%28other%29&keywords=ghc-prim')
  SYNOPSIS
    PsiElement(SYNOPSIS_KEY)('synopsis')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('GHC primitives')
  CABAL_VERSION
    PsiElement(CABAL_VERSION_KEY)('cabal-version')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('>=1.10')
  BUILD_TYPE
    PsiElement(BUILD_TYPE_KEY)('build-type')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('Custom')
  DESCRIPTION
    PsiElement(DESCRIPTION_KEY)('description')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('This package contains the primitive types and operations supplied by GHC.')
  EXTRA_SOURCE_FILES
    PsiElement(EXTRA_SOURCE_FILES_KEY)('extra-source-files')
    PsiElement(COLON)(':')
    FREEFORM
      PsiElement(FREEFORM_LINE)('changelog.md')
  SOURCE_REPO
    PsiElement(SOURCE_REPO_KEY)('source-repository')
    PsiElement(SOURCE_REPO_NAME)('head')
    SOURCE_REPO_TYPE
      PsiElement(TYPE_KEY)('type')
      PsiElement(COLON)(':')
      FREEFORM
        PsiElement(FREEFORM_LINE)('git')
    SOURCE_REPO_LOCATION
      PsiElement(LOCATION_KEY)('location')
      PsiElement(COLON)(':')
      FREEFORM
        PsiElement(FREEFORM_LINE)('http://git.haskell.org/ghc.git')
    SOURCE_REPO_SUBDIR
      PsiElement(SUBDIR_KEY)('subdir')
      PsiElement(COLON)(':')
      FREEFORM
        PsiElement(FREEFORM_LINE)('libraries/ghc-prim')
  FLAG_DECL
    PsiElement(FLAG)('flag')
    PsiElement(FLAG_NAME)('include-ghc-prim')
    FLAG_DESCR
      PsiElement(DESCRIPTION_KEY)('Description')
      PsiElement(COLON)(':')
      FREEFORM
        PsiElement(FREEFORM_LINE)('Include GHC.Prim in exposed-modules')
    FLAG_DEFAULT
      PsiElement(DEFAULT_KEY)('default')
      PsiElement(COLON)(':')
      BOOL_VALUE
        PsiElement(FALSE)('False')
  INVALID_STANZA
    PsiElement(UNKNOWN_KEY)('custom-setup')
    INVALID_FIELD
      PsiElement(UNKNOWN_KEY)('setup-depends')
      PsiElement(COLON)(':')
      FREEFORM
        PsiElement(FREEFORM_LINE)('base >= 4 && < 5, Cabal >= 1.23')
  LIBRARY
    PsiElement(LIBRARY_KEY)('Library')
    DEFAULT_LANGUAGE
      PsiElement(DEFAULT_LANGUAGE_KEY)('default-language')
      PsiElement(COLON)(':')
      FREEFORM
        PsiElement(FREEFORM_LINE)('Haskell2010')
    OTHER_EXTENSIONS
      PsiElement(OTHER_EXTENSIONS_KEY)('other-extensions')
      PsiElement(COLON)(':')
      IDENT_LIST
        PsiElement(IDENT)('BangPatterns')
        PsiElement(IDENT)('CPP')
        PsiElement(IDENT)('DeriveGeneric')
        PsiElement(IDENT)('MagicHash')
        PsiElement(IDENT)('MultiParamTypeClasses')
        PsiElement(IDENT)('NoImplicitPrelude')
        PsiElement(IDENT)('StandaloneDeriving')
        PsiElement(IDENT)('Trustworthy')
        PsiElement(IDENT)('TypeFamilies')
        PsiElement(IDENT)('UnboxedTuples')
        PsiElement(IDENT)('UnliftedFFITypes')
    BUILD_DEPENDS_KEY
      PsiElement(BUILD_DEPENDS_KEY)('build-depends')
      PsiElement(COLON)(':')
      DEPENDENCIES
        DEPENDENCY
          PsiElement(DEPENDENCY_NAME)('rts')
          DEPENDENCY_VERSION
            PsiElement(==)('==')
            PsiElement(NUMBERS)('1.0.*')
    EXPOSED_MODULES
      PsiElement(EXPOSED_MODULES_KEY)('exposed-modules')
      PsiElement(COLON)(':')
      MODULE_LIST
        MODULE
          MODULE_PART
            PsiElement(IDENT)('GHC')
          PsiElement(.)('.')
          MODULE_PART
            PsiElement(IDENT)('CString')
        MODULE
          MODULE_PART
            PsiElement(IDENT)('GHC')
          PsiElement(.)('.')
          MODULE_PART
            PsiElement(IDENT)('Classes')
        MODULE
          MODULE_PART
            PsiElement(IDENT)('GHC')
          PsiElement(.)('.')
          MODULE_PART
            PsiElement(IDENT)('Debug')
        MODULE
          MODULE_PART
            PsiElement(IDENT)('GHC')
          PsiElement(.)('.')
          MODULE_PART
            PsiElement(IDENT)('IntWord64')
        MODULE
          MODULE_PART
            PsiElement(IDENT)('GHC')
          PsiElement(.)('.')
          MODULE_PART
            PsiElement(IDENT)('Magic')
        MODULE
          MODULE_PART
            PsiElement(IDENT)('GHC')
          PsiElement(.)('.')
          MODULE_PART
            PsiElement(IDENT)('PrimopWrappers')
        MODULE
          MODULE_PART
            PsiElement(IDENT)('GHC')
          PsiElement(.)('.')
          MODULE_PART
            PsiElement(IDENT)('Tuple')
        MODULE
          MODULE_PART
            PsiElement(IDENT)('GHC')
          PsiElement(.)('.')
          MODULE_PART
            PsiElement(IDENT)('Types')
    PsiComment(COMMENT)('    -- OS Specific')
    IF_EXPR
      PsiElement(IF)('if')
      IF_COND
        FUNC_CALL
          FUNC_NAME
            PsiElement(OS)('os')
          PsiElement(()('(')
          FUNC_ARG
            PsiElement(IDENT)('windows')
          PsiElement())(')')
      PsiComment(COMMENT)('        -- Windows requires some extra libraries for linking because the RTS')
      PsiComment(COMMENT)('        -- is no longer re-exporting them (see #11223)')
      PsiComment(COMMENT)('        -- msvcrt: standard C library. The RTS will automatically include this,')
      PsiComment(COMMENT)('        --         but is added for completeness.')
      PsiComment(COMMENT)('        -- mingwex: provides C99 compatibility. libm is a stub on MingW.')
      PsiComment(COMMENT)('        -- mingw32: Unfortunately required because of a resource leak between')
      PsiComment(COMMENT)('        --          mingwex and mingw32. the __math_err symbol is defined in')
      PsiComment(COMMENT)('        --          mingw32 which is required by mingwex.')
      PsiComment(COMMENT)('        -- user32: provides access to apis to modify user components (UI etc)')
      PsiComment(COMMENT)('        --         on Windows. Required because of mingw32.')
      THEN_BODY
        EXTRA_LIBRARIES
          PsiElement(EXTRA_LIBRARIES_KEY)('extra-libraries')
          PsiElement(COLON)(':')
          FREEFORM
            PsiElement(FREEFORM_LINE)('user32, mingw32, mingwex')
    IF_EXPR
      PsiElement(IF)('if')
      IF_COND
        FUNC_CALL
          FUNC_NAME
            PsiElement(FLAG)('flag')
          PsiElement(()('(')
          FUNC_ARG
            PsiElement(IDENT)('include-ghc-prim')
          PsiElement())(')')
      THEN_BODY
        EXPOSED_MODULES
          PsiElement(EXPOSED_MODULES_KEY)('exposed-modules')
          PsiElement(COLON)(':')
          MODULE_LIST
            MODULE
              MODULE_PART
                PsiElement(IDENT)('GHC')
              PsiElement(.)('.')
              MODULE_PART
                PsiElement(IDENT)('Prim')
    C_SOURCES
      PsiElement(C_SOURCES_KEY)('c-sources')
      PsiElement(COLON)(':')
      FREEFORM
        PsiElement(FREEFORM_LINE)('cbits/atomic.c')
        PsiElement(FREEFORM_LINE)('cbits/bswap.c')
        PsiElement(FREEFORM_LINE)('cbits/clz.c')
        PsiElement(FREEFORM_LINE)('cbits/ctz.c')
        PsiElement(FREEFORM_LINE)('cbits/debug.c')
        PsiElement(FREEFORM_LINE)('cbits/longlong.c')
        PsiElement(FREEFORM_LINE)('cbits/popcnt.c')
        PsiElement(FREEFORM_LINE)('cbits/word2float.c')
    PsiComment(COMMENT)('    -- We need to set the unit ID to ghc-prim (without a version number)')
    PsiComment(COMMENT)('    -- as it's magic.')
    GHC_OPTIONS
      PsiElement(GHC_OPTIONS_KEY)('ghc-options')
      PsiElement(COLON)(':')
      IDENT_LIST
        PsiElement(IDENT)('-this-unit-id')
        PsiElement(IDENT)('ghc-prim')